@model List<_ExcellOn_.Models.Service>
@{ Layout = "~/Areas/Admin/Views/Shared/_MainLayout.cshtml";}

<div class="header bg-primary">
    <div class="container-fluid">
        <div class="header-body">
            <div class="row align-items-center py-4">
                <div class="col-lg-6 col-7">
                    <h6 class="h2 text-white d-inline-block mb-0">Service</h6>
                    <nav aria-label="breadcrumb" class="d-none d-md-inline-block ml-md-4">
                        <ol class="breadcrumb breadcrumb-links breadcrumb-dark">
                            <li class="breadcrumb-item"><a href="#"><i class="fas fa-home"></i></a></li>
                            <li class="breadcrumb-item"><a href="#">Tables</a></li>
                        </ol>
                    </nav>
                </div>
                <div class="col-lg-6 col-5 text-right">
                    <a class="btn btn-sm btn-neutral" href="/Admin/ServiceManagement/ServiceIndex2">Reload</a>
                </div>

            </div>
        </div>
    </div>
</div>

<div class="container" style="margin-top: 30px;padding-bottom: 40px">

    <div class="row">
        <div class="col-xl-12">
            @if (Model != null)
            {

                <div class="row">
                    @foreach (var item in Model)
                    {
                        <div class="col-md-4">
                            <aside class="profile-card">
                                <header>
                                    <!-- here’s the avatar -->
                                    <a href="#" onclick="return _GetOrderDetail(@item.Id)">
                                        <img src="~/Public/Image/ava.gif" />
                                    </a>
                                    <!-- the username -->
                                    <h1>@item.Service_Name</h1>
                                    <!-- and role or location -->
                                    <h2 style="color:white!important">We have @item.OrderDetails.Count OrderDetail</h2>
                                </header>
                                <!-- bit of a bio; who are you? -->
                                <div class="profile-bio">
                                    <p class="description">
                                        @item.Service_Description.Substring(0, 100)
                                    </p>
                                </div>
                                <!-- some social links to show off -->
                                <ul class="profile-social-links">
                                    <!-- twitter - el clásico  -->
                                    <li>
                                        <a target="_blank" href="#">
                                            <i class="fa fa-twitter"></i>
                                        </a>
                                    </li>
                                    <!-- envato – use this one to link to your marketplace profile -->
                                    <li>
                                        <a target="_blank" href="#">
                                            <i class="fa fa-dribbble"></i>
                                        </a>
                                    </li>
                                    <!-- codepen - your codepen profile-->
                                    <li>
                                        <a target="_blank" href="#">
                                            <i class="fa fa-codepen"></i>
                                        </a>
                                    </li>
                                    <!-- add or remove social profiles as you see fit -->
                                </ul>
                            </aside>
                        </div>
                    }
                </div>

                <div class="row" style="margin-top: 70px">
                    <div class="table-responsive">
                        <table id="table_Service" class="cell-border text-center align-items-center table-flush ">
                            <thead class="thead-light">
                                <tr>
                                    <th style="font-size: 0.875rem" class="sort">Id</th>
                                    <th style="font-size: 0.875rem" class="sort">OrderDetail_DateStart</th>
                                    <th style="font-size: 0.875rem" class="sort">OrderDetail_DateEnd</th>
                                    <th style="font-size: 0.875rem" class="sort">OrderDetail_Status</th>
                                    <th style="font-size: 0.875rem" class="sort">OrderDetail_NumberOfPeople Price</th>
                                </tr>
                            </thead>
                            <tbody>
                            </tbody>
                        </table>

                    </div>
                </div>

            }
        </div>
    </div>

</div>

@section css{
    <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.10.25/css/jquery.dataTables.css">
    <link href="~/Areas/Admin/Public/DataTable/pagination.css" rel="stylesheet" />
    <link href="~/Areas/Admin/Public/css/loader.css" rel="stylesheet" />
    <link href="~/Areas/Admin/Public/JdLomX/css/style.css" rel="stylesheet" />
}
@section js{
    
    <script type="text/javascript">
        function _GetOrderDetail(Service_ID) {
            $.ajax({
                url: "/Admin/ServiceManagement/GetOrderDetail?Service_ID=" + Service_ID,
                contentType: "application/json;charset=utf-8",
                type: "GET",
                dataType: "json",
                success: function (result) {
                    console.log(result);
                    $('#table_Service').DataTable({

                        data: JSON.parse(result),
                        columns: [
                            { 'data': 'Id' },
                            { 'data': 'OrderDetail_DateStart' },
                            { 'data': 'OrderDetail_DateEnd' },
                            { 'data': 'OrderDetail_Status' },
                            { 'data': 'OrderDetail_NumberOfPeople' },
                        ]

                    });
                },
                error: function (erro) {
                    alert(erro);
                }
            });
        }
    </script>

    <script type="text/javascript" charset="utf8" src="https://cdn.datatables.net/1.10.25/js/jquery.dataTables.js"></script>
}